<!DOCTYPE html [<!ENTITY times '&#215;'>]>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:bootstrap="http://xmlns.jcp.org/jsf/composite/components/bootstrap"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <cc:interface shortDescription="An component for selecting assets.">
        <cc:attribute name="action"
                      required="true"
                      shortDescription="Action to trigger when an asset has been selected."
                      type="String" />
        <cc:attribute name="assetType"
                      required="false"
                      shortDescription="Type of assets to show."
                      type="String"
                      default="org.librecms.assets.Asset" />
        <cc:attribute name="assetPickerId"
                      required="true"
                      shortDescription="ID of the asset picker"
                      type="String" />
        <cc:attribute name="contentSection"
                      required="true"
                      shortDescription="The current content section."
                      type="String" />
        <cc:attribute name="dialogTitle"
                      required="false"
                      shortDescription="Title of the asset picker dialog"
                      default="#{CmsAssetsStepsDefaultMessagesBundle['assetpicker.title']}" 
                      type="String"
                      />
        <cc:attribute name="formParamName"
                      required="true"
                      shortDescription="The name of the form parameter that will contain the UUID of the selected asset."
                      type="String"
                      />
        <cc:attribute name="headingLevel"
                      required="false"
                      shortDescription="The level of the heading used as title of the asset picker dialog."
                      default="3"
                      type="int" />
    </cc:interface>

    <cc:implementation>
        <div class="ccm-cms-asset-picker"
             data-assettype="#{cc.attrs.assetType}"
             data-contentsection="#{cc.attrs.contentSection}">
            <div aria-hidden="true"
                 aria-labelledby="#{cc.attrs.assetPickerId}-dialog-title"
                 class="modal fade"
                 id="#{cc.attrs.assetPickerId}-dialog"
                 tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <c:choose>
                                <c:when test="#{cc.attrs.headingLevel == 1}">
                                    <h1 class="modal-title"
                                        id="#{cc.attrs.assetPickerId}-dialog-title">#{cc.attrs.dialogTitle}</h1>
                                </c:when>
                                <c:when test="#{cc.attrs.headingLevel == 2}">
                                    <h2 class="modal-title"
                                        id="#{cc.attrs.assetPickerId}-dialog-title">#{cc.attrs.dialogTitle}</h2>
                                </c:when>
                                <c:when test="#{cc.attrs.headingLevel == 3}">
                                    <h3 class="modal-title"
                                        id="#{cc.attrs.assetPickerId}-dialog-title">#{cc.attrs.dialogTitle}</h3>
                                </c:when>
                                <c:when test="#{cc.attrs.headingLevel == 4}">
                                    <h4 class="modal-title"
                                        id="#{cc.attrs.assetPickerId}-dialog-title">#{cc.attrs.dialogTitle}</h4>
                                </c:when>
                                <c:when test="#{cc.attrs.headingLevel == 5}">
                                    <h5 class="modal-title"
                                        id="#{cc.attrs.assetPickerId}-dialog-title">#{cc.attrs.dialogTitle}</h5>
                                </c:when>
                                <c:when test="#{cc.attrs.headingLevel == 6}">
                                    <h6 class="modal-title"
                                        id="#{cc.attrs.assetPickerId}-dialog-title">#{cc.attrs.dialogTitle}</h6>
                                </c:when>
                                <c:otherwise>
                                    <div><strong>#{cc.attrs.dialogTitle}</strong></div>
                                </c:otherwise>
                            </c:choose>
                            <button 
                                aria-label="#{CmsAssetsStepsDefaultMessagesBundle['assetpicker.close']}"
                                class="close"
                                data-dismiss="modal"
                                type="button">
                                <bootstrap:svgIcon icon="x" />
                            </button>
                        </div>
                        <form action="#{cc.attrs.action}"
                              class="modal-content"
                              method="post">
                            <input class="assetpicker-param" 
                                   id="#{cc.attrs.assetPickerId}-param-input"
                                   name="#{cc.attrs.formParamName}"
                                   type="hidden" />
                            <bootstrap:formGroupText 
                                class="assetpicker-filter"
                                help="#{CmsAssetsStepsDefaultMessagesBundle['assetpicker.filter.help']}"
                                inputId="#{cc.attrs.assetPickerId}-filter"
                                label="#{CmsAssetsStepsDefaultMessagesBundle['assetpicker.filter.label']}"
                                name="" />
                            <template id="#{cc.attrs.assetPickerId}-row">
                                <tr>
                                    <td class="col-name"></td>
                                    <td class="col-type"></td>
                                    <td class="col-action">
                                        <button class="btn btn-primary"
                                                data-assetuuid=""
                                                type="button">
                                            #{CmsAssetsStepsDefaultMessagesBundle['assetpicker.select']}
                                        </button>
                                    </td>
                                </tr>
                            </template>
                            <table>
                                <thead>
                                    <tr>
                                        <th>#{CmsAssetsStepsDefaultMessagesBundle['assetpicker.column.name']}</th>
                                        <th>#{CmsAssetsStepsDefaultMessagesBundle['assetpicker.column.type']}</th>
                                        <th>#{CmsAssetsStepsDefaultMessagesBundle['assetpicker.column.action']}</th>
                                    </tr>
                                </thead>
                                <tbody>

                                </tbody>
                            </table>
                    </form>
                    <div class="modal-footer">
                        <button class="btn btn-warning"
                                data-dismiss="modal"
                                type="button">
                            #{CmsAssetsStepsDefaultMessagesBundle['assetpicker.close']}
                        </button>
                    </div>
                </div>
            </div>
        </div>
        </div>

    </cc:implementation>


</html>
