<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:bootstrap="http://xmlns.jcp.org/jsf/composite/components/bootstrap"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <cc:interface shortDescription="An component for selecting content items">
        <cc:attribute name="actionUrl"
                      required="true"
                      shortDescription="Base URL for the actions of the asset picker."
                      type="String" />
        <cc:attribute name="contentItemType"
                      required="false"
                      shortDescription="Type of the content items to show."
                      type="String"
                      default="org.librecms.contentsection.ContentItem" />
        <cc:attribute name="contentItemPickerId"
                      required="true"
                      shortDescription="ID of the content item picker."
                      type="String" />
        <cc:attribute name="contentSection"
                      required="true"
                      shortDescription="The current content section"
                      type="String" />
        <cc:attribute name="dialogTitle"
                      required="false"
                      shortDescription="Title of the content item picker dialog"
                      default="#{CmsDefaultStepsMessageBundle['contentitempicker.title']}" 
                      type="String" />
        <cc:attribute name="formParamName"
                      required="true"
                      shortDescription="The name of the form parameter that will contain the UUID of the selected asset."
                      type="String" />
        <cc:attribute name="headingLevel"
                      required="false"
                      shortDescription="The level of the heading used as title of the content item picker dialog."
                      default="3"
                      type="int" />
        <cc:attribute name="baseUrl"
                      required="true"
                      shortDescription="Base URL for requests. Must include the scheme, the server name, the port (if no standard port is used) and the context path of the application."
                      type="String" />
    </cc:interface>
    <cc:implementation>
        <div class="ccm-cms-contentitem-picker"
             data-contentitem-type="#{cc.attrs.contentItemType}"
             data-baseUrl="#{cc.attrs.baseUrl}"
             data-contentsection="#{cc.attrs.contentSection}"
             id="#{cc.attrs.contentItemPickerId}">
            <div aria-hidden="true"
                 aria-labelledby="#{cc.attrs.contentItemPickerId}-dialog-title"
                 class="modal fade"
                 id="#{cc.attrs.contentItemPickerId}-dialog"
                 tabindex="-1">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header">
                            <c:choose>
                                <c:when test="#{cc.attrs.headingLevel == 1}">
                                    <h1 class="modal-title"
                                        id="#{cc.attrs.contentItemPickerId}-dialog-title">#{cc.attrs.dialogTitle}</h1>
                                </c:when>
                                <c:when test="#{cc.attrs.headingLevel == 2}">
                                    <h2 class="modal-title"
                                        id="#{cc.attrs.contentItemPickerId}-dialog-title">#{cc.attrs.dialogTitle}</h2>
                                </c:when>
                                <c:when test="#{cc.attrs.headingLevel == 3}">
                                    <h3 class="modal-title"
                                        id="#{cc.attrs.contentItemPickerId}-dialog-title">#{cc.attrs.dialogTitle}</h3>
                                </c:when>
                                <c:when test="#{cc.attrs.headingLevel == 4}">
                                    <h4 class="modal-title"
                                        id="#{cc.attrs.contentItemPickerId}-dialog-title">#{cc.attrs.dialogTitle}</h4>
                                </c:when>
                                <c:when test="#{cc.attrs.headingLevel == 5}">
                                    <h5 class="modal-title"
                                        id="#{cc.attrs.contentItemPickerId}-dialog-title">#{cc.attrs.dialogTitle}</h5>
                                </c:when>
                                <c:when test="#{cc.attrs.headingLevel == 6}">
                                    <h6 class="modal-title"
                                        id="#{cc.attrs.contentItemPickerId}-dialog-title">#{cc.attrs.dialogTitle}</h6>
                                </c:when>
                                <c:otherwise>
                                    <div id="#{cc.attrs.contentItemPickerId}-dialog-title">
                                        <strong>#{cc.attrs.dialogTitle}</strong>
                                    </div>
                                </c:otherwise>
                            </c:choose>
                            <button 
                                aria-label="#{CmsDefaultStepsMessageBundle['contentitempicker.close']}"
                                class="close"
                                data-dismiss="modal"
                                type="button">
                                <bootstrap:svgIcon icon="x" />
                            </button>
                        </div>
                        <form action="#{cc.attrs.actionUrl}"
                              class="modal-body"
                              method="post">
                            <input class="contentitempicker-param"
                                   id="#{cc.attrs.contentItemPickerId}-param-input"
                                   name="#{cc.attrs.formParamName}"
                                   type="hidden" />
                            <bootstrap:formGroupText
                                class="contentitempicker-filter"
                                help="#{CmsDefaultStepsMessageBundle['contenitempicker.filter.help']}"
                                inputId="#{cc.attrs.contentItemPickerId}-filter"
                                label="#{CmsDefaultStepsMessageBundle['contenitempicker.filter.label']}"
                                name="" />
                            <template id="#{cc.attrs.contentItemPickerId}-row">
                                <tr>
                                    <td class="col-name"></td>
                                    <td class="col-type"></td>
                                    <td class="col-action">
                                        <button class="btn btn-primary"
                                                data-itemuuid=""
                                                type="button">
                                            #{CmsDefaultStepsMessageBundle['contentitempicker.select']}
                                        </button>
                                    </td>
                                </tr>
                            </template>
                            <table>
                                <thead>
                                    <tr>
                                        <th>#{CmsDefaultStepsMessageBundle['contentitempicker.column.name']}</th>
                                        <th>#{CmsDefaultStepsMessageBundle['contentitempicker.column.type']}</th>
                                        <th>#{CmsDefaultStepsMessageBundle['contentitempicker.column.action']}</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </form>
                        <div class="modal-footer">
                            <button class="btn btn-warning"
                                    data-dismiss="modal"
                                    type="button">
                                #{CmsDefaultStepsMessageBundle['contentitempicker.close']}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </cc:implementation>

</html>
