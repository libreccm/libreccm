<!DOCTYPE html [<!ENTITY times '&#215;'>]>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:bootstrap="http://xmlns.jcp.org/jsf/composite/components/bootstrap"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:libreccm="http://xmlns.jcp.org/jsf/composite/components/libreccm"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <ui:composition template="/WEB-INF/views/org/librecms/ui/contentsection/assets/editstep.xhtml">

        <ui:param name="stepControllerUrl"
                  value="@postaladdress-edit"
                  />
        <ui:param name="title" 
                  value="#{CmsAssetsStepsDefaultMessagesBundle.getMessage('postaladdress.editstep.header', [MvcAssetEditStepModel.name])}" 
                  />

        <ui:define name="editStep">
            <h3>#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.header']}</h3>

            <c:if test="#{MvcAssetEditStepModel.canEdit}">
                <div class="text-right">
                    <button class="btn btn-primary"
                            data-toggle="modal"
                            data-target="#properties-edit-dialog"
                            type="button">
                        <bootstrap:svgIcon icon="pen" />
                        <span class="sr-only">#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.edit']}</span>
                    </button>
                </div>
                <div aria-hidden="true"
                     aria-labelledby="properties-edit-dialog-title"
                     class="modal fade"
                     id="properties-edit-dialog"
                     tabindex="-1">
                    <div class="modal-dialog">
                        <form action="#{mvc.basePath}/#{ContentSectionModel.sectionName}/assets/#{CmsSelectedAssetModel.assetPath}/@postaladdress-edit/properties"
                              class="modal-content"
                              method="post">
                            <div class="modal-header">
                                <h4 class="modal-title" 
                                    id="properties-edit-dialog-title">
                                    #{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.edit.title']}
                                </h4>
                                <button 
                                    aria-label="#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.edit.close']}"
                                    class="close"
                                    data-dismiss="modal"
                                    type="button">
                                    <bootstrap:svgIcon icon="x" />
                                </button>
                            </div>
                            <div class="modal-body">
                                <bootstrap:formGroupTextarea 
                                    cols="80"
                                    help="#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.edit.address.help']}"
                                    inputId="address"
                                    label="#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.address.label']}"
                                    name="address"
                                    rows="10"
                                    value="#{CmsPostalAddressEditStep.address}"
                                    />
                                <bootstrap:formGroupText 
                                    help="#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.edit.postal_code.help']}"
                                    inputId="postalCode"
                                    label="#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.postal_code.label']}"
                                    name="postalCode"
                                    value="#{CmsPostalAddressEditStep.postalCode}"
                                    />
                                <bootstrap:formGroupText 
                                    help="#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.edit.city.help']}"
                                    inputId="city"
                                    label="#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.city.label']}"
                                    name="city"
                                    value="#{CmsPostalAddressEditStep.city}"
                                    />
                                <bootstrap:formGroupText 
                                    help="#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.edit.state.help']}"
                                    inputId="state"
                                    label="#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.state.label']}"
                                    name="state"
                                    value="#{CmsPostalAddressEditStep.state}"
                                    />
                                <bootstrap:formGroupSelect
                                    help="#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.edit.country.help']}"
                                    inputId="isoCountryCode"
                                    label="#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.country.label']}"
                                    name="isoCountryCode"
                                    options="#{CmsPostalAddressEditStep.countries}"
                                    selectedOptions="#{[CmsPostalAddressEditStep.isoCountryCode]}"
                                    />
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-warning"
                                        data-dismiss="modal"
                                        type="button">
                                    #{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.edit.close']}
                                </button>
                                <button class="btn btn-success"
                                        type="submit">
                                    #{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.edit.submit']}
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </c:if>
            <dl>
                <div>
                    <dt>#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.address.label']}</dt>
                    <dd><pre>#{CmsPostalAddressEditStep.address}</pre></dd>
                </div>
                <div>
                    <dt>#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.postal_code.label']}</dt>
                    <dd>#{CmsPostalAddressEditStep.postalCode}</dd>
                </div>
                <div>
                    <dt>#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.city.label']}</dt>
                    <dd>#{CmsPostalAddressEditStep.city}</dd>
                </div>
                <div>
                    <dt>#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.state.label']}</dt>
                    <dd>#{CmsPostalAddressEditStep.state}</dd>
                </div>
                <div>
                    <dt>#{CmsAssetsStepsDefaultMessagesBundle['postaladdress.editstep.properties.country.label']}</dt>
                    <dd>#{CmsPostalAddressEditStep.country}</dd>
                </div>
            </dl>
        </ui:define>

    </ui:composition>

</html>